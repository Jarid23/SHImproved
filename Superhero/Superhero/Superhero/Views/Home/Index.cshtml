@model IEnumerable<Superhero.Model.Models.Sighting>

@{
    ViewBag.Title = "Index";
}

<h2>Index</h2>

<div class="col-xs-offset-1 col-xs-4 divTop" style="text-align:left">
    <h3>Recent Sightings</h3>

</div>
<div class="col-xs-7 divTop">
    <form class="navbar-form navbar-right" onsubmit="return false;">
        <div class="form-group">
            <button class="btn btn-primary" type="button" id="clearSearch">
                <span class="glyphicon glyphicon-ban-circle" aria-hidden="true"></span>
                Clear Search
            </button>
        </div>
        <button type="submit" class="btn btn-default" onclick="search()">Search</button>
        <div class="form-group">
            <select class="form-control" v-model="searchCategory" id="searchCategory">
                <option value="">Search By&nbsp;&nbsp;</option>
                <option value="Hero">Hero</option>
                <option value="Organization">Organization</option>
                <option value="Sighting">Sighting</option>
                <option value="Location">Location</option>
            </select>
        </div>
        <div class="form-group">
            <input type="text" class="form-control" placeholder="Search Term" v-model="searchTerm" id="searchTerm">
        </div>
    </form>
</div>


<div class="col-sm-1 divMain">
</div>
<div class="col-sm-10 divMain" id="SightingsArea">
    <div class="col-xs-12 col-sm-9">
        <div class="row">
            <div class="col-xs-12">
                <h4>Sighting List</h4>
                <p>@Html.ActionLink("Add a Sighting", "AddSighting", "User", null, new { @class = "btn btn-primary" })</p>
                <table class="table table-bordered table-striped">
                    <thead>
                        <tr>
                            <th>Sighting Heroes</th>
                            <th>Sighting Location Name</th>
                            <th>Location Description</th>
                            <th>Location Address</th>
                            <th>Latitude</th>
                            <th>Longitude</th>
                            <th>Date</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var sighting in Model)
                        {
                            <tr>
                                @*var heroes = _heroes.Where(h => h.Organizations.Any(o => o.OrganizationID == OrganizationID));*@
                                <td>@sighting.HeroesAsHtml()</td>
                                <td>@sighting.SightingLocation.LocationName</td>
                                <td>@sighting.SightingLocation.LocationDescription</td>
                                <td>@sighting.SightingLocation.LocationAddress</td>
                                <td>@sighting.SightingLocation.LatitudeCoordinate</td>
                                <td>@sighting.SightingLocation.LongitudeCoordinate</td>
                                <td>@sighting.Date</td>
                                <td>
                                    @Html.ActionLink("Edit", "Edit", "Sighting", new { SightingID = sighting.SightingID }, null) |
                                    @Html.ActionLink("Delete", "Delete", "Sighting", new { SightingID = sighting.SightingID }, null)
                                </td>
                            </tr>
                            <!--The sightingList view is completed with the exception of
                            adding links to each row of data in the table to allow for editing and deleting sighting-->
                        }
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>